<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>The Human Body</title>
        <style>
            path {
                opacity: 0.7;
            }

            #console {
                height: 30px;
                font-family: Arial;
            }

            .highlighted {
                opacity: 1;
            }

            .highlighted path {
                opacity: 1;
            }
        </style>
    </head>
    <body>
        <div id="console">Mouse over a bone to see its name.</div>
        <div id="body"></div>

        <script src="/js/vendor/d3/d3.min.js"></script>

        <script>
d3.xml("Human_skeleton_front_en.svg", "image/svg+xml", function(xml) {  
    document.body.appendChild(xml.documentElement);

    // remove labels
    d3.select("g[skeleton_label='Labels']").remove();

    d3.selectAll("path").on("mouseover", function() {
        var label = get_label(this);
        if (label[1] === "Skeleton") {
            return;
        }
        d3.select(label[0]).classed("highlighted", true);
        d3.select("#console").html(label[1]);
    }).on("mouseout", function() {
        d3.selectAll("g").classed("highlighted", false);
    });
});

function get_label(node) {
    if (d3.select(node).attr("skeleton_label")) {
        return [node, d3.select(node).attr("skeleton_label")];
    }
    var parent = node.parentNode;
    if (parent.tagName !== "g") {
        return [ node, "N/A" ];
    }
    return get_label(parent);
}

        </script>
    </body>
</html>